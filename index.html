<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>MyShop â€” Products</title>

  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script defer src="script.js"></script>
</head>

<body class="bg-gray-100">
  <!-- NAV -->
  <div class="p-4 bg-white shadow flex justify-between items-center">
    <h1 class="text-xl font-bold">MyShop</h1>

    <div class="flex gap-3">
      <button id="loginBtn" class="bg-blue-600 text-white px-3 py-1 rounded">Login</button>
      <button id="logoutBtn" class="hidden bg-red-600 text-white px-3 py-1 rounded">Logout</button>
      <button id="ordersPageBtn" class="hidden bg-green-600 text-white px-3 py-1 rounded">My Orders</button>
      <button id="cartOpenBtn" class="bg-black text-white px-3 py-1 rounded">Cart</button>
    </div>
  </div>

  <!-- PRODUCT LIST -->
  <div id="products" class="p-4 grid grid-cols-2 md:grid-cols-4 gap-4"></div>

  <!-- CART MODAL -->
  <div id="cartModal" class="hidden fixed inset-0 bg-black/50 flex justify-center items-center">
    <div class="bg-white p-4 w-80 rounded">
      <h2 class="text-lg font-bold mb-3">Your Cart</h2>
      <div id="cartItems"></div>
      <p id="cartTotal" class="font-bold mt-3"></p>

      <button id="checkoutBtn" class="bg-green-600 text-white px-3 py-1 rounded mt-4 w-full">Checkout</button>
      <button id="closeCart" class="bg-gray-600 text-white px-3 py-1 rounded mt-2 w-full">Close</button>
    </div>
  </div>

  <!-- LOGIN MODAL -->
  <div id="loginModal" class="hidden fixed inset-0 bg-black/50 flex justify-center items-center">
    <div class="bg-white p-4 w-80 rounded">
      <h2 class="text-xl font-bold mb-3">Login</h2>

      <input id="loginEmail" class="w-full border p-2 rounded mb-2" placeholder="Email" />
      <input id="loginPass" class="w-full border p-2 rounded mb-2" placeholder="Password" type="password" />

      <button id="doLogin" class="bg-blue-600 text-white w-full py-2 rounded">Login</button>
      <button id="openSignup" class="text-blue-600 mt-2 w-full">Create Account</button>
      <button id="openReset" class="text-blue-600 mt-1 w-full">Forgot Password?</button>
      <button id="closeLogin" class="bg-gray-600 text-white w-full py-2 rounded mt-2">Close</button>

      <p id="loginError" class="text-red-600 mt-2"></p>
    </div>
  </div>

  <!-- SIGNUP MODAL -->
  <div id="signupModal" class="hidden fixed inset-0 bg-black/50 flex justify-center items-center">
    <div class="bg-white p-4 w-80 rounded">
      <h2 class="text-xl font-bold mb-3">Signup</h2>

      <input id="signupEmail" class="w-full border p-2 rounded mb-2" placeholder="Email" />
      <input id="signupPass" class="w-full border p-2 rounded mb-2" placeholder="Password" type="password" />

      <button id="doSignup" class="bg-green-600 text-white w-full py-2 rounded">Create Account</button>
      <button id="closeSignup" class="bg-gray-600 text-white w-full py-2 rounded mt-2">Close</button>
      <p id="signupError" class="text-red-600 mt-2"></p>
    </div>
  </div>

  <!-- RESET MODAL -->
  <div id="resetModal" class="hidden fixed inset-0 bg-black/50 flex justify-center items-center">
    <div class="bg-white p-4 w-80 rounded">
      <h2 class="text-xl font-bold mb-3">Reset Password</h2>

      <input id="resetEmail" class="w-full border p-2 rounded mb-2" placeholder="Email" />
      <button id="doReset" class="bg-blue-600 text-white w-full py-2 rounded">Send Reset Link</button>
      <button id="closeReset" class="bg-gray-600 text-white w-full py-2 rounded mt-2">Close</button>
      <p id="resetMsg" class="text-green-600 mt-2"></p>
    </div>
  </div>

</body>
</html>
